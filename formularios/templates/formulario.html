{% load i18n %}<!--me permite usar la etiquetas para traducir el texto ( internacionalización)-->
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>{% translate "Forms"  %}</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</head>
<body>
  <!--El modal popup para aceptar las politicas de la empresa-->
  <div class="modal" id="politicasModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">{% translate "Company Policies"  %}</h5>
          
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              {% translate "Change language"  %}
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
             {% get_current_language as LANGUAGE_CODE %} <!--obtener el idioma que esta, mostrar los disponibles y tenerlo en una lista-->
              {% get_available_languages as LANGUAGES %}
              {% get_language_info_list for LANGUAGES as languages %}
        
              
              {% for formulario in languages %}
              <li>
                <a class="dropdown-item" href="/{{ formulario.code}}/">
                  {{ formulario.name_local|lower }}
                </a>
              </li>
              {% endfor%}
            </ul>
          </div>
        </div>
        <div class="modal-body">
          <p>
            {% translate "Wanna a job?"  %}
            
          </p>
        </div>
        <div class="modal-footer">
          <div class="d-grid gap-2 col-6 mx-auto">
            <button type="button" class="btn btn-primary" id="aceptarPoliticas">{% translate "I accept the policies"  %}</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!--El dropdown para seleccionar el idioma-->
  <div class="dropdown">
    <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
      {% translate "Change language"  %}
    </button>
    <ul class="dropdown-menu dropdown-menu-end">
     {% get_current_language as LANGUAGE_CODE %} <!--obtener el idioma que esta, mostrar los disponibles y tenerlo en una lista-->
      {% get_available_languages as LANGUAGES %}
      {% get_language_info_list for LANGUAGES as languages %}

      
      {% for formulario in languages %}
      <li>
        <a class="dropdown-item" href="/{{ formulario.code}}/">
          {{ formulario.name_local|lower }}
        </a>
      </li>
      {% endfor%}
    </ul>
  </div>

  <!--El container que tiene toda la info del formulario-->
  <div class="container">
    
    <center><h1>{% translate "Forms"  %}</h1></center>
      <form method="post" autocomplete="off" action="{% url 'formularios:formulario_view' %}" enctype="multipart/form-data">
        {% csrf_token %}<!--para que un hacker no se haga pasar por el usuario-->
        <img src="https://i0.wp.com/losalbaniles.com/wp-content/uploads/2021/11/chamba.jpg?fit=936%2C468&ssl=1" class="img-fluid" alt="...">
        
        <div class="row">
            <div class="col-md-6">
                <div class="form-group">
                    <label for="nombre">{% translate "Name"  %}</label>
                    <input type="text" class="form-control" id="nombre" name="nombre" placeholder="{% translate "Enter your name" %}"required>
                </div>
            </div>

            <div class="col-md-6">
                <div class="form-group">
                    <label for="apellido">{% translate "Last Name"  %}</label>
                    <input type="text" class="form-control" id="apellido" name="apellido" placeholder="{% translate "Enter your last name" %}"required>
                </div>
            </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="email">Email</label>
              <input type="email" class="form-control" id="email" name="email" placeholder="{% translate "Enter your email" %}"required>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="genero">{% translate "Gender"  %}</label>
              <select class="form-control" id="genero" name="genero" required>
                <option value="" disabled selected>{% translate "Choose a gender"  %}</option>
                <option value="masculino">{% translate "Male"  %}</option>
                <option value="femenino">{% translate "Female"  %}</option>
                <option value="otros">{% translate "Other"  %}</option>
              </select>
            </div>
          </div>
        </div>  
        
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="nacionalidad"> {% translate "Nationality"  %}</label>
              <select class="form-control" name="nacionalidad" id="nacionalidad" required>
                <option value="" disabled selected>{% translate "Choose a nationality"  %}</option>
                <option value="Panama">Panamá</option>
                <option value="Argentina">Argentina</option>
                <option value="Chile">Chile</option>
                <option value="Colombia">Colombia</option>
                <option value="Cuba">Cuba</option>
                <option value="Ecuador">Ecuador</option>
                <option value="United-States">United States</option>
                <option value="Guatemala">Guatemala</option>
                <option value="Haiti">Haiti</option>
                <option value="Honduras">Honduras</option>
                <option value="Jamaica">Jamaica</option>
                <option value="Mexico">Mexico</option>
                <option value="Nicaragua">Nicaragua</option>
                <option value="Peru">Peru</option>
                <option value="Venezuela">Venezuela</option>
                <option value="Otros">{% translate "Other"  %}</option>
              </select>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for="fecha_nacimiento">{% translate "Birthdate"  %}</label>
              <input type="date" class="form-control" id="fecha_nacimiento" name="fecha_nacimiento" required>
            </div>
          </div>
        </div>
            
        <div class="form-group">
          <label for="alergia">{% translate "Have a disability or allergy"  %}</label>
          <input type="text" class="form-control" id="alergia" name="alergia" placeholder="{% translate "Specify" %}" required>
        </div>
         
        <div class="mb-3">
          <label for="formFile" class="form-label">{% translate "Identification/Passport"  %}</label required>
          <input class="form-control" type="file" id="formFile" name="formFile" accept="application/pdf" placeholder="{% translate 'Select file' %}">
        </div>
        
        <div class="mb-3">
          <label for="formFile2" class="form-label">{% translate "CV"  %}</label required>
          <input class="form-control" type="file" id="formFile2" name="formFile2" accept="application/pdf" placeholder="{% translate 'Code' %}">
        </div>
          
      
        <div class="row">
          <div class="col-md-2">
            <div class="form-group">
              <label for="Codigo1">{% translate "Code"  %}</label>
              <select class="form-control" name="Codigo1" id="Codigo1" required>
                <option value="" disabled selected>{% translate "Code"  %}</option>
                <option value="507">507</option>
              </select>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label for="Telefono1">{% translate "Cellphone"  %}</label>
              <input type="tel" class="form-control" id="Telefono1" name="Telefono1" placeholder="{% translate "Enter your cellphone" %}"required>
            </div>
          </div>
          <div class="col-md-2">
            <div class="form-group">
              <label for="Codigo2">{% translate "Code"  %}</label>
              <select class="form-control" name="Codigo2" id="Codigo2" required>
                <option value="" disabled selected>{% translate "Code"  %}</option>
                <option value="507">507</option>
              </select>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label for="Telefono2">{% translate "Cellphone"  %}</label>
              <input type="tel" class="form-control" id="Telefono2" name="Telefono2" placeholder="{% translate "Enter your cellphone" %}"required>
            </div>
          </div>
          
        </div>
        
        <div class="row">
          <div class="col-md-2">
            <div class="form-group">
              <label for="Codigo3">{% translate "Code"  %}</label>
              <select class="form-control" name="Codigo3" id="Codigo3" required>
                <option value="" disabled selected>{% translate "Code"  %}</option>
                <option value="507">507</option>
              </select>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <label for="Telefono3">{% translate "Cellphone"  %}</label>
              <input type="tel" class="form-control" id="Telefono3" name="Telefono3" placeholder="{% translate "Enter your cellphone" %}"required>
            </div>
          </div>
          <div class="col-md-6">
            <div class="form-group">
              <label for=""></label>
              <input type="text" class="form-control" id="nombre_contacto" name="nombre_contacto" placeholder="{% translate "Contact s full name" %}"required>
            </div>
          </div>
        </div>
        
        

        <div class="form-group">
          <label for="Direccion">{% translate "Direction"  %}</label>
          <input type="text" class="form-control" id="Direccion1" name="Direccion1" placeholder="{% translate "Main address" %}"required>
          <input type="text" class="form-control" id="Direccion2" name="Direccion2" placeholder="{% translate "Second address" %}"required>

          <div class="row">
            <div class="col-md-6">
              <div class="form-group">
                <label for="Ciudad">{% translate "City"  %}</label>
                <input type="text" class="form-control" id="Ciudad" name="Ciudad" placeholder="{% translate "City" %}"required>
              </div>
            </div>
            <div class="col-md-6">
              <div class="form-group">
                <label for="Estado_Provincia">{% translate "State/Province"  %}</label>
                <input type="text" class="form-control" id="Estado_Provincia" name="Estado_Provincia" placeholder="{% translate "State/Province" %}"required>
              </div>
            </div>
          </div>

          <input type="text" class="form-control" id="Codigo4" name="Codigo4" placeholder="{% translate "Post code" %}"required>

        </div>
        
        <div class="row">
          <div class="col-md-6">
            <div class="form-group">
              <label for="Cargo1">{% translate "Desired position"  %}</label>
              <select class="form-control" name="Cargo1" id="Cargo1" required>
                <option value="" disabled selected>{% translate "Choose a position"  %}</option>
                <option value="Manager">{% translate "Manager"  %}</option>
              </select>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-group">
              <label for=""></label>
              <select class="form-control" name="Cargo2" id="Cargo2" required>
                <option value="" disabled selected>{% translate "Choose a position"  %}</option>
                <option value="Manager">{% translate "Manager"  %}</option>
              </select>
            </div>
          </div>
        </div>
        
        <div class="form-group">
          <label for="turno">{% translate "Desired shift"  %}</label>
          <select class="form-control" name="turno" id="turno" required>
            <option value="" disabled selected>{% translate "Select"  %}</option>
            <option value="En la mañana">{% translate "Morning"  %}</option>
          </select>
        </div>
         
        <div class="form-group">
          <label for="Ingles">{% translate "English level"  %}</label>
          <select class="form-control" name="Ingles" id="Ingles" required>
            <option value="" disabled selected>{% translate "Select"  %}</option>
            <option value="Avanzado">{% translate "Advance"  %}</option>
            <option value="Intermedio">{% translate "Intermediate"  %}</option>
            <option value="Principiante">{% translate "Beginner"  %}</option>
          </select>
        </div>

        <div class="form-group">
          <label for="Iniciar">{% translate "When can you start"  %}</label>
          <input type="date" class="form-control" id="Iniciar" name="Iniciar" required>
        </div>

        <div class="form-group">
          <label for="Transporte">{% translate "Transportation you use"  %}</label>
          <select class="form-control" name="Transporte" id="Transporte" required>
            <option value="" disabled selected>{% translate "Select"  %}</option>
            <option value="Transporte publico">{% translate "Public transportation"  %}</option>
          </select>
        </div>

        <div class="form-group">
          <label for="Conociste">{% translate "How did you hear about us"  %}</label>
          <select class="form-control" name="Conociste" id="Conociste" required>
            <option value="" disabled selected>{% translate "Select"  %}</option>
            <option value="Redes sociales">{% translate "Social media"  %}</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="Referido">{% translate "Referred by"  %}</label>
          <input type="text" class="form-control" id="Referido" name="Referido" placeholder="{% translate "Answer"  %}" required>
        </div>

        <div class="d-grid gap-2 col-6 mx-auto">
          <button type="submit" class="btn btn-primary btn-lg">{% translate "Apply now"  %}</button>
        </div>
      </form>
      

      <!--mensaje para saber si se envio o no que esta en el views.py que viene siendo el "pantalla de exito"(por ahora)-->
      {% if messages %}
      <ul class="messages">
        {% for message in messages %}
          <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
        {% endfor %}
      </ul>
      {% endif %}

  </div>

  <!--El modal popup para aceptar las politicas de la empresa-->
  <div class="modal" id="politicasModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">{% translate "Success"  %}</h5>
          
          <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
              {% translate "Change language"  %}
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
             {% get_current_language as LANGUAGE_CODE %} <!--obtener el idioma que esta, mostrar los disponibles y tenerlo en una lista-->
              {% get_available_languages as LANGUAGES %}
              {% get_language_info_list for LANGUAGES as languages %}
        
              
              {% for formulario in languages %}
              <li>
                <a class="dropdown-item" href="/{{ formulario.code}}/">
                  {{ formulario.name_local|lower }}
                </a>
              </li>
              {% endfor%}
            </ul>
          </div>
        </div>
        <div class="modal-body">
          <div class="container">
            <div class="success-icon">&#10004;</div>
            <h1>¡Éxito!</h1>
            <p>Tu formulario se ha enviado correctamente.</p>
            
          </div>
        </div>
        
      </div>
    </div>
  </div>
  

  <!--permite que en los campos telefono y codigo solo acepte numeros y no otros caracteres-->
  <script>
    function numeros(elementId){
      document.getElementById(elementId).addEventListener('input', function(event) {
      // Eliminar caracteres no numéricos
      var inputValue = event.target.value.replace(/\D/g, '');
      // Limitar a 10 dígitos
      inputValue = inputValue.substring(0, 10);
      // Actualizar el valor del campo
      event.target.value = inputValue;
    });
    }
    numeros('Telefono1');
    numeros('Telefono2');
    numeros('Telefono3');
    numeros('Codigo4');
    </script>

  <!--Muestra el popup modal-->
  <script>
    $(document).ready(function() {
      // Muestra el modal al cargar la página
      $('#politicasModal').modal('show');
      
      // Cierra el modal cuando se hace clic en "Aceptar Políticas"
      $('#aceptarPoliticas').click(function() {
        $('#politicasModal').modal('hide');
      });
    });
  </script>
  <!-- Agrega este script al final del cuerpo del documento -->
  


  <!-- Bootstrap JS and dependencies -->
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>

  <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>




</body>
</html>
